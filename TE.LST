;AS.C V0.1, Source: TE.S, Output: TE.LST, TE.COM

0000                ;inc 0  dec 1  //BAS.BAT, AS TE, NAS.BAT
0000                ;1=IMM, 2=REG, 3=ADR, 4=MEM
0000                org 256            ;NASM
0000 F6 D0          not al             ;F6 D0
0002 08 00          VA dw 8            ;08 00
0004 41 42 06       VB db "AB",6       ;41 42 06
0007 48             dec ax             ;48
0008 49             dec word cx        ;49
0009 40             inc ax             ;40
000A 47             inc di             ;47
000B FE 07          inc byte [bx]      ;FE 07
000D FE 0F          dec byte [bx]      ;FE 0F
000F FE 4F 03       dec byte [bx+3]    ;FE 4F 03
0012 FE 4F FC       dec byte [bx-4]    ;FE 4F FC
0015 F6 D1          not cl             ;F6 D1
0017 FE C9          dec cl             ;FE C9
0019 66 49          dec ecx            ;66 49
001B FE 0F          dec byte [bx]      ;FE 0F
001D FE 4F 03       dec byte [bx+3]    ;FE 4F 03
0020 FE 8F 02 01    dec byte [bx+258]  ;FE 8F 02 01
0024 FE 4F FC       dec byte [bx-4]    ;FE 4F FC
0027                ;dec word [cx];inv effective adr
0027                ;inc word  VA ;inv comb opcode+operands
0027 FE 06 02 01    inc byte [VA]      ;FE 06 04 00
002B FF 06 04 01    inc word [VB]      ;FF 06 06 00
002F FF 06 08 01    inc word [VB+4]    ;FF 06 0A 00
0033 FE 46 00       inc byte [bp]      ;FE 46 00  special case
0036 FE 46 04       inc byte [bp+4]    ;FE 46 04
0039 FE 86 02 01    inc byte [bp+258]  ;FE 86 02 01
003D FE 81 02 01    inc byte [bx+di+258];FE81 02 01
0041 FE 46 FC       inc byte [bp-4]    ;FE 46 FC
0044 FE 01          inc byte [bx+di]   ;FE 01
0046 FE 41 FC       inc byte [bx+di-4] ;FE 41 FC
0049 F7 D1          not cx              ;F7 D1
004B F7 D2          not DX              ;F7 D2
004D F6 97 02 01    not byte [bx+258]   ;F6 97 02 01
0051 F6 11          not byte [bx+di]    ;F6 11
0053 F6 51 FC       not byte [bx+di-4]  ;F6 51 FC
0056 F6 16 02 01    not byte [VA]       ;F6 16 01 00
005A F7 16 02 01    not word [VA]       ;F7 16 01 00
005E F7 D9          neg cx              ;F7 D9
0060 F6 9F 02 01    neg byte [bx+258]   ;F6 9F 02 01
0064 F6 19          neg byte [bx+di]    ;F6 19
0066 F6 59 FC       neg byte [bx+di-4]  ;F6 59 FC
0069 F6 1E 02 01    neg byte [VA]       ;F6 1E 02 00
006D F7 1E 02 01    neg word [VA]       ;F7 1E 02 00
0071 F6 E0          mul al              ;F6 E0
0073 F7 E0          mul ax              ;F7 E0
0075 F7 E1          mul cx              ;F7 E1
0077 F6 A7 02 01    mul byte [bx+258]   ;F6 A7 02 01
007B F6 21          mul byte [bx+di]    ;F6 21
007D F6 61 FC       mul byte [bx+di-4]  ;F6 61 FC
0080 F6 26 02 01    mul byte [VA]       ;F6 26 02 00
0084 F7 26 02 01    mul word [VA]       ;F7 26 02 00
0088 F6 F0          div al              ;F6 F0
008A F7 F0          div ax              ;F7 F0
008C F7 F1          div cx              ;F7 F1
008E F6 B7 02 01    div byte [bx+258]   ;F6 B7 02 01
0092 F6 31          div byte [bx+di]    ;F6 31
0094 F6 71 FC       div byte [bx+di-4]  ;F6 71 FC
0097 F6 36 02 01    div byte [VA]       ;F6 36 02 00
009B F7 36 02 01    div word [VA]       ;F7 36 02 00
009F F6 F8          idiv al             ;F6 F8
00A1 F7 F8          idiv ax             ;F7 F8
00A3 F7 F9          idiv cx             ;F7 F9
00A5 F6 BF 02 01    idiv byte [bx+258]  ;F6 BF 02 01
00A9 F6 39          idiv byte [bx+di]   ;F6 39
00AB F6 79 FC       idiv byte [bx+di-4] ;F6 79 FC
00AE F6 3E 02 01    idiv byte [VA]      ;F6 3E 02 00
00B2 F7 3E 02 01    idiv word [VA]      ;F7 3E 02 00
00B6                ;acc, rm
00B6 F6 E8          imul al             ;F6 E8
00B8 F7 E8          imul ax             ;F7 E8
00BA F7 E9          imul cx             ;F7 E9
00BC F6 AF 02 01    imul byte [bx+258]  ;F6 AF 02 01
00C0 F6 29          imul byte [bx+di]   ;F6 29
00C2 F6 69 FC       imul byte [bx+di-4] ;F6 69 FC
00C5 F6 2E 02 01    imul byte [VA]      ;F6 2E 01 00
00C9 F7 2E 02 01    imul word [VA]      ;F7 2E 01 00
00CD                
00CD C4 01          les ax,  [bx+di]    ;C4 01
00CF 0F B2 0E 02 01 lss cx, [VA]        ;0F B2 0E [0400]
00D4 C4 49 FC       les cx, [bx+di-4]   ;C4 49 FC
00D7 0F B5 01       lgs ax, [bx+di]     ;0F B5 01
00DA 0F B5 81 02 01 lgs ax, [VA+bx+di]  ;0F B5 81 01 00
00DF                ;mov al, [bp-4]     ;8A 46 FC
00DF                ;mov al, [VB+bx]    ;8A 87 06 00
00DF                
00DF 04 04          add al, 4           ;04 04
00E1                ;add al, 259      ;;;04 03 bounds
00E1 83 C0 04       add ax, 4           ;83 C0 04
00E4 05 03 01       add ax, 259         ;05 03 01
00E7 0C 04          or  al, 4           ;0C 04
00E9 15 03 01       adc ax, 259         ;15 03 01
00EC 80 C1 04       add cl, 4           ;80 C1 04
00EF 83 C1 04       add cx, 4           ;83 C1 04
00F2 81 C1 03 01    add cx, 259         ;81 C1 03 01
00F6 80 C9 04       or  cl, 4           ;80 C9 04
00F9 80 C9 FF       or  cl, 255         ;80 C9 FF
00FC 83 C9 04       or  cx, 4           ;83 C9 04
00FF 83 C9 7F       or  cx, 127         ;83 C9 7F
0102 81 C9 80 00    or  cx, 128         ;81 C9 80 00
0106 81 C9 FF 00    or  cx, 255         ;81 C9 FF 00
010A 81 C9 03 01    or  cx, 259         ;81 C9 03 01
010E 83 C4 02       add  sp, 2          ;83 C4 02
0111 80 06 02 01 04 add byte [VA], 4    ;80 06 02 01 04
0116 83 06 02 01 04 add word [VA], 4    ;83 06 02 01 04
011B 83 06 05 01 04 add word [VA+3],4   ;83 06 05 01 04
0120                ;add word [VA+di]
0120 02 41 FC       add al, [bx+di-4]   ;02 41 FC
0123 01 C3          add bx, ax          ;01 C3
0125 01 D8          add ax, bx          ;01 D8
0127 02 07          add al, [bx]        ;02 07
0129 03 07          add ax, [bx]        ;03 07
012B 03 0F          add cx, [bx]        ;03 0F
012D 01 0F          add [bx], cx        ;01 0F
012F 00 00          add [bx+si], al     ;00 00
0131 00 01          add [bx+di], al     ;00 01
0133 01 01          add [bx+di], ax     ;01 01
0135 02 01          add al, [bx+di]     ;02 01
0137 03 01          add ax, [bx+di]     ;03 01
0139                
0139 B0 00          mov al, 0           ;B0 00
013B B0 03          mov al, 3           ;B0 03
013D B0 7F          mov al, 127         ;B0 7F
013F B0 FF          mov al, 255         ;B0 FF
0141 B8 00 00       mov ax, 0           ;B8 00 00
0144 B8 03 01       mov ax, 259         ;B8 03 01
0147 B8 FF FF       mov ax, 65535       ;B8 FF FF
014A B3 03          mov bl, 3           ;B3 03
014C BB 03 00       mov bx, 3           ;BB 03 00
014F BB 03 01       mov bx, 259         ;BB 03 01
0152 C6 06 02 01 03 mov byte [VA], 3    ;C6 06 02 00 03
0157 C7 06 02 01 03 mov word [VA], 3    ;C7 06 02 00 03 00
015D C7 06 02 01 03 mov word [VA], 259  ;C7 06 02 00 03 01
0163                
0163 8C C0          mov ax, es          ;8C C0
0165 8C C8          mov ax, cs          ;8C C8
0167 8C D0          mov ax, ss          ;8C D0
0169 8C D8          mov ax, ds          ;8C D8
016B 8C E0          mov ax, fs          ;8C E0
016D 8C E8          mov ax, gs          ;8C E8
016F 8C C1          mov cx, es          ;8C C1
0171 8C C2          mov dx, es          ;8C C2
0173 8C D3          mov bx, ss          ;8C D3
0175 8C D4          mov sp, ss          ;8C D4
0177 8C E5          mov bp, fs          ;8C E5
0179 8C E6          mov si, fs          ;8C E6
017B 8C E7          mov di, fs          ;8C E7
017D 8C 41 FC       mov [bx+di-4], es   ;8C 41 FC
0180 8C 06 02 01    mov [VA], es        ;8C 06 02 00
0184 8C 56 FC       mov [bp-4], ss      ;8C 56 FC
0187 8C 08          mov word [bx+si],cs ;8C 08
0189 8E C0          mov es, ax          ;8E C0
018B 8E D0          mov ss, ax          ;8E D0
018D 8E 41 FC       mov es, [bx+di-4]   ;8E 41 FC
0190 8E 06 02 01    mov es, [VA]        ;8E 06 02 00
0194 A0 02 01       mov al, [VA]        ;A0 02 00
0197 A0 05 01       mov al, [VA+3]      ;A0 05 00
019A A1 02 01       mov ax, [VA]        ;A1 02 00
019D A2 02 01       mov [VA], al        ;A2 02 00
01A0 A3 02 01       mov [VA], ax        ;A3 02 00
01A3 B0 02          mov al, VA          ;B0 02 00
01A5 B8 02 01       mov ax, VA          ;B8 02 00
01A8 C7 06 02 01 02 mov word[VA], VA    ;C7 06 02 00 02 00
01AE 88 00          mov [bx+si], al     ;88 00
01B0 88 08          mov [bx+si], cl     ;88 08
01B2 88 C8          mov al, cl          ;88 C8
01B4 88 C1          mov cl, al          ;88 C1
01B6 8A 00          mov al, [bx+si]     ;8A 00
01B8 8A 41 FC       mov al, [bx+di-4]   ;8A 41 FC
01BB 8A 08          mov cl, [bx+si]     ;8A 08
01BD 8A 80 02 01    mov al, [VA+bx+si]  ;8A 80 02 00
01C1 8A 80 FE 00    mov al, [VA+bx+si-4];8A 80 FE FF
01C5                
01C5 50             push ax             ;50
01C6 57             push di             ;57
01C7 FF 36 02 01    push word [VA]      ;FF 36 02 00
01CB FF 36 04 01    push word [VB]      ;FF 36 04 00
01CF 58             pop ax              ;58
01D0 5F             pop di              ;5F
01D1 8F 06 02 01    pop word [VA]       ;8F 06 02 00
01D5 06             push es             ;06
01D6 0E             push cs             ;0E
01D7 16             push ss             ;16
01D8 1E             push ds             ;1E
01D9 0F A0          push fs             ;0F A0
01DB 0F A8          push gs             ;0F A8
01DD 07             pop es              ;07
01DE 17             pop ss              ;17
01DF 1F             pop ds              ;1F
01E0 0F A1          pop fs              ;0F A1
01E2 0F A9          pop gs              ;0F A9
01E4 6A 00          push 0              ;6A 00
01E6 6A 7F          push 127            ;6A 7F
01E8 68 80 00       push 128            ;68 80 00
01EB 68 FF 00       push 255            ;68 FF 00
01EE 68 00 01       push 256            ;68 00 01
01F1 68 FF 7F       push 32767          ;68 FF 7F
01F4 68 00 80       push 32768          ;68 00 80
01F7 68 FF FF       push 65535          ;68 FF FF
01FA CD 21          L2: int 33          ;CD 21
01FC CD 03          int 3               ;CD 03
01FE CC             int3                ;CC
01FF CE             into                ;CE
0200 C8 00 00 00    enter 0,0           ;C8 0000 00
0204 C8 00 01 00    enter 256,0         ;C8 0001 00
0208 C8 00 80 FF    enter 32768,255     ;C8 0080 FF
020C C8 D2 04 10    ENTER 1234,16       ;C8 D204 10
0210                L1:
0210 70 FE          jo L1               ;70 FE
0212 7F FC          JG L1               ;7F FC
0214 72 E4          jc L2               ;72 E4
0216 0F 82 EA FD    jc VB               ;0F 82 EA FD
021A 0F 81 E4 FD    jno VA              ;0F 81 E4 FD
021E 0F 82 00 00   *jc L5               ;0F 82 04 00
0222 0F 80 00 00   *jo L6               ;0F 80 01 00
0226 90             L5:  nop            ;90
0227 0F 82 00 00   *L6:  jc L7          ;0F 82 02 00
022B 31 C0          xor ax, ax          ;31 C0
022D                L7:
022D EB E1          jmp L1              ;EB E1
022F E9 D0 FD       jmp VA              ;E9 D0 FD
0232 E8 DB FF       call L1             ;E8 DB FF
0235 E8 CA FD       call VA             ;E8 CA FD
0238 E9 00 00      *jmp L8              ;E9 04 00
023B E8 00 00      *call L8             ;E8 01 00
023E 90             nop                 ;90
023F                L8:
023F 90             nop                 ;90
0240 D0 CB          ror bl, 1           ;D0 CB
0242 D1 CB          ror bx, 1           ;D1 CB
0244 D1 E3          shl bx, 1           ;D1 E3
0246 D1 C0          rol ax, 1           ;D1 C0
0248 D2 E0          shl al, cl          ;D2 E0
024A D3 E0          shl ax, cl          ;D3 E0
024C C0 E0 03       sal al, 3           ;C0 E0 03
024F C1 E3 03       sal bx, 3           ;C1 E3 03
0252 C0 2E 02 01 03 shr byte [VA], 3    ;C0 2E 02 00 03
0257 C1 2E 02 01 03 shr word [VA], 3    ;C1 2E 02 00 03
025C                section .bss
025C                absolute 4096
025C                eins resb 1
025C                acht resd 2
025C                sechs resw 3
025C                zwei resb 2
025C                absolute 1044
025C                Einsd resd 1
025C                dreiw resw 3
025C                section .text
025C A0 00 10       mov al, [eins]      ;A0 00 10
025F A0 01 10       mov al, [acht]      ;A0 01 10
0262 A0 09 10       mov al, [sechs]     ;A0 09 10
0265 A1 0F 10       mov ax, [zwei]      ;A1 0F 10
0268 A0 14 04       mov al, [Einsd]     ;A0 14 04
026B A0 18 04       mov al, [dreiw]     ;A0 18 04
;entering: name
026E                name: proc
026E 90             nop
;leaving: name
026F                endp
026F 90             nop
;entering: name1
0270                name1: proc
0270 90             nop
;***** next line ERROR: already in proc, Symbol: proc
0271                n2:proc 
;leaving: name1
0271                ENDP
0271 90             nop
0272                
;END open jmp/call: 5
 Errors: 1 ***ERROR*** , Out: TE.LST, TE.COM= 626 bytes. Labels: 17. 